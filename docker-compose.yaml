version: "3.7"
services:
  redis:
    image: redis:alpine
  db:
    build:
      context: ./db
  mqtt_broker:
    image: eclipse-mosquitto
  hub:
    build:
      context: ./hub
    ports:
      - "5151:5151"
    depends_on:
      - redis
      - db
      - mqtt_broker
